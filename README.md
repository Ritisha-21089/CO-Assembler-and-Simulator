# Custom Assembler and Simulator

## Project Overview
This project involves designing and implementing a custom assembler and simulator for a specified Instruction Set Architecture (ISA). The assembler converts assembly language instructions into machine code, while the simulator executes this machine code.

## Assembler
### Functionality
The assembler is designed to:
1. **Parse Assembly Instructions**: Convert assembly language instructions into their corresponding binary format.
2. **Handle Labels and Variables**: Resolve labels and variables used in the assembly code.
3. **Error Checking**: Detect and report various syntax and semantic errors in the assembly code, such as:
   - Typos in instruction or register names
   - Use of undefined variables or labels
   - Illegal usage of the FLAGS register
   - Immediate values exceeding the allowed bit-width
   - Misuse of labels as variables and vice-versa
   - Missing or misplaced `hlt` instruction

### Input/Output
- **Input**: A text file containing the assembly program (read from stdin).
- **Output**: 
  - Binary file if the assembly code is error-free (written to stdout).
  - Error notifications with the line number if errors are found (written to stdout).

### Example
#### Assembly Program
```assembly
var X
mov R1 $10
mov R2 $100
mul R3 R1 R2
st R3 X
hlt
```

#### Corresponding Machine Code
```plaintext
1001000100001010
1001001001100100
1011000011001010
1010101100000101
0101000000000000
```

## Simulator
### Functionality
The simulator executes the binary code generated by the assembler. It simulates the behavior of the ISA by:
1. **Loading the Binary into Memory**: Initialize memory with the binary code.
2. **Executing Instructions**: Execute instructions sequentially starting from address 0 until a `hlt` instruction is encountered.
3. **Printing State After Each Instruction**: Output the program counter (PC) and register states after executing each instruction.
4. **Memory Dump**: Print the state of the entire memory after the program halts.

### Input/Output
- **Input**: A binary file containing the machine code (read from stdin).
- **Output**: 
  - The program counter and register states after each instruction (written to stdout).
  - The memory dump after the program halts (written to stdout).

### Example Output Format
For each instruction:
```plaintext
<PC (8 bits)> <R0 (16 bits)> <R1 (16 bits)> <R2 (16 bits)> <R3 (16 bits)> <R4 (16 bits)> <R5 (16 bits)> <R6 (16 bits)> <FLAGS (16 bits)>
```

Memory dump after the program halts:
```plaintext
<16 bit data>
<16 bit data>
...
<16 bit data>
```

## Conclusion
This project implements a custom assembler and simulator for a specified ISA. The assembler converts assembly language instructions into machine code, and the simulator executes this machine code while providing detailed output of the program's execution state.
